
@layer components {
  /* CRITICAL: Mobile Maintenance Checklist Force Visibility */
  @media (max-width: 1200px) {
    
    /* CRITICAL: Force absolute visibility for mobile checklist components */
    .mobile-checklist-force-visible,
    [data-component="maintenance-form-body"],
    [data-component="equipment-details-wrapper"],
    [data-component="equipment-type-fields"],
    [data-component="equipment-fields-container"],
    [data-component*="fields-container"],
    [data-force-visible="true"] {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      width: 100% !important;
      max-width: 100% !important;
      min-height: auto !important;
      max-height: none !important;
      overflow: visible !important;
      position: relative !important;
      z-index: 10 !important;
      transform: none !important;
      margin: 0 0 1.5rem 0 !important;
      padding: 1rem !important;
      background-color: white !important;
      border-radius: 8px !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
      content-visibility: visible !important;
    }

    /* CRITICAL: Force equipment checklist sections to always be visible */
    [data-component="equipment-details-wrapper"][data-force-visible="true"],
    [data-component="equipment-type-fields"][data-force-visible="true"] {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      background-color: #f8fafc !important;
      border: 2px solid #10b981 !important;
      border-radius: 8px !important;
      padding: 1rem !important;
      content-visibility: visible !important;
    }

    /* CRITICAL: Override any inline styles that might hide content */
    [style*="display: none"] .mobile-checklist-force-visible,
    [style*="display:none"] .mobile-checklist-force-visible,
    [style*="visibility: hidden"] .mobile-checklist-force-visible,
    [style*="visibility:hidden"] .mobile-checklist-force-visible,
    [style*="opacity: 0"] .mobile-checklist-force-visible,
    [style*="opacity:0"] .mobile-checklist-force-visible {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    }

    /* Force all equipment field types to be visible */
    [data-component="ahu-fields-container"],
    [data-component="chiller-fields-container"], 
    [data-component="cooling-tower-fields-container"],
    [data-component="elevator-fields-container"],
    [data-component="restroom-fields-container"],
    [data-component="general-fields-container"] {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      width: 100% !important;
      padding: 1rem !important;
      background-color: #ffffff !important;
      border: 1px solid #e5e7eb !important;
      border-radius: 6px !important;
      margin-bottom: 1rem !important;
      content-visibility: visible !important;
    }

    /* Force form sections to be visible and properly spaced */
    [data-component="form-section"] {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      width: 100% !important;
      margin-bottom: 2rem !important;
      padding: 1.25rem !important;
      background-color: white !important;
      border-radius: 8px !important;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
      content-visibility: visible !important;
    }

    /* Enhanced form field styling for mobile */
    .mobile-checklist-force-visible input,
    .mobile-checklist-force-visible select,
    .mobile-checklist-force-visible [role="combobox"],
    .mobile-checklist-force-visible textarea,
    .mobile-checklist-force-visible [role="switch"],
    [data-force-visible="true"] input,
    [data-force-visible="true"] select,
    [data-force-visible="true"] [role="combobox"],
    [data-force-visible="true"] textarea {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      width: 100% !important;
      min-height: 56px !important;
      padding: 14px 16px !important;
      font-size: 16px !important;
      line-height: 1.5 !important;
      border: 2px solid #d1d5db !important;
      border-radius: 8px !important;
      background-color: white !important;
      color: #1f2937 !important;
      margin-bottom: 1rem !important;
      transition: border-color 0.2s ease !important;
    }

    /* Focus states for better UX */
    .mobile-checklist-force-visible input:focus,
    .mobile-checklist-force-visible [role="combobox"]:focus,
    .mobile-checklist-force-visible textarea:focus,
    [data-force-visible="true"] input:focus,
    [data-force-visible="true"] [role="combobox"]:focus,
    [data-force-visible="true"] textarea:focus {
      border-color: #3b82f6 !important;
      ring: 2px solid #93c5fd !important;
      outline: none !important;
    }

    /* Force single column layout */
    .mobile-checklist-force-visible .grid,
    [data-force-visible="true"] .grid {
      display: flex !important;
      flex-direction: column !important;
      gap: 1.5rem !important;
      grid-template-columns: none !important;
      width: 100% !important;
    }

    /* Enhanced spacing for mobile */
    .mobile-checklist-force-visible .space-y-4 > *,
    .mobile-checklist-force-visible .space-y-6 > *,
    [data-force-visible="true"] .space-y-4 > *,
    [data-force-visible="true"] .space-y-6 > * {
      margin-bottom: 1.5rem !important;
      width: 100% !important;
      display: block !important;
      visibility: visible !important;
    }

    /* Enhanced label styling */
    .mobile-checklist-force-visible label,
    [data-force-visible="true"] label {
      display: block !important;
      font-size: 16px !important;
      font-weight: 600 !important;
      color: #374151 !important;
      margin-bottom: 8px !important;
      visibility: visible !important;
      line-height: 1.4 !important;
    }

    /* Mobile debug info styling */
    .mobile-debug-info {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      z-index: 1000 !important;
      position: relative !important;
    }

    /* CRITICAL: Enhanced dropdown positioning fixes */
    [data-radix-select-content],
    [data-radix-dropdown-menu-content] {
      position: fixed !important;
      z-index: 9999 !important;
      background-color: white !important;
      border: 1px solid #e5e7eb !important;
      border-radius: 6px !important;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
      max-height: 50vh !important;
      overflow-y: auto !important;
      left: 5% !important;
      right: 5% !important;
      width: 90% !important;
      max-width: 400px !important;
      margin: 0 auto !important;
      top: 25% !important;
      bottom: auto !important;
      transform: none !important;
    }

    /* Force checklist headers to be prominent */
    .mobile-checklist-force-visible h2,
    .mobile-checklist-force-visible h3,
    [data-force-visible="true"] h2,
    [data-force-visible="true"] h3 {
      display: block !important;
      visibility: visible !important;
      font-size: 1.25rem !important;
      font-weight: 700 !important;
      color: #1f2937 !important;
      margin-bottom: 1rem !important;
      padding: 0.75rem 0 !important;
      text-align: center !important;
    }

    /* Section dividers */
    .mobile-checklist-force-visible > div + div,
    [data-force-visible="true"] > div + div {
      border-top: 2px solid #f3f4f6 !important;
      padding-top: 1.5rem !important;
      margin-top: 1.5rem !important;
    }
  }

  /* Touch-friendly interactions */
  @media (max-width: 1200px) and (pointer: coarse) {
    .mobile-checklist-force-visible button,
    .mobile-checklist-force-visible [role="combobox"],
    [data-force-visible="true"] button,
    [data-force-visible="true"] [role="combobox"] {
      min-height: 56px !important;
      min-width: 56px !important;
      touch-action: manipulation !important;
      -webkit-tap-highlight-color: transparent !important;
    }
  }
}
