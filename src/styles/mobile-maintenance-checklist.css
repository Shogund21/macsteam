
@layer components {
  /* CRITICAL: Mobile Maintenance Checklist Force Visibility - ENHANCED */
  @media (max-width: 1024px) {
    
    /* CRITICAL: Force absolute visibility for mobile checklist components */
    .mobile-checklist-force-visible,
    [data-component="maintenance-form-body"],
    [data-component="equipment-details-wrapper"],
    [data-component="equipment-type-fields"],
    [data-component="equipment-fields-container"],
    [data-component*="fields-container"],
    [data-force-visible="true"] {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      width: 100% !important;
      max-width: 100% !important;
      min-height: auto !important;
      max-height: none !important;
      overflow: visible !important;
      position: relative !important;
      z-index: 10 !important;
      transform: none !important;
      margin: 0 0 1rem 0 !important;
      padding: 1rem !important;
      background-color: white !important;
      border-radius: 8px !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
      content-visibility: visible !important;
      clip: unset !important;
      clip-path: none !important;
    }

    /* CRITICAL: Force equipment checklist sections to always be visible */
    [data-component="equipment-details-wrapper"][data-force-visible="true"],
    [data-component="equipment-type-fields"][data-force-visible="true"] {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      background-color: #f8fafc !important;
      border: 2px solid #10b981 !important;
      border-radius: 8px !important;
      padding: 1rem !important;
      content-visibility: visible !important;
      min-height: 100px !important;
    }

    /* CRITICAL: Override any inline styles that might hide content */
    [style*="display: none"] .mobile-checklist-force-visible,
    [style*="display:none"] .mobile-checklist-force-visible,
    [style*="visibility: hidden"] .mobile-checklist-force-visible,
    [style*="visibility:hidden"] .mobile-checklist-force-visible,
    [style*="opacity: 0"] .mobile-checklist-force-visible,
    [style*="opacity:0"] .mobile-checklist-force-visible {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    }

    /* ENHANCED: Force all equipment field types to be visible */
    [data-component="ahu-fields-container"],
    [data-component="chiller-fields-container"], 
    [data-component="cooling-tower-fields-container"],
    [data-component="elevator-fields-container"],
    [data-component="restroom-fields-container"],
    [data-component="general-fields-container"] {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      width: 100% !important;
      padding: 1rem !important;
      background-color: #ffffff !important;
      border: 1px solid #e5e7eb !important;
      border-radius: 6px !important;
      margin-bottom: 1rem !important;
      content-visibility: visible !important;
      min-height: 50px !important;
    }

    /* ENHANCED: Force form sections to be visible */
    [data-component="form-section"] {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      width: 100% !important;
      margin-bottom: 1.5rem !important;
      padding: 1rem !important;
      background-color: white !important;
      border-radius: 8px !important;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
      content-visibility: visible !important;
      min-height: 60px !important;
    }

    /* ENHANCED: Force all form inputs to be visible and properly sized */
    .mobile-checklist-force-visible input,
    .mobile-checklist-force-visible select,
    .mobile-checklist-force-visible [role="combobox"],
    .mobile-checklist-force-visible textarea,
    .mobile-checklist-force-visible [role="switch"],
    [data-force-visible="true"] input,
    [data-force-visible="true"] select,
    [data-force-visible="true"] [role="combobox"],
    [data-force-visible="true"] textarea {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      width: 100% !important;
      min-height: 52px !important;
      padding: 12px 16px !important;
      font-size: 16px !important;
      line-height: 1.4 !important;
      border: 1px solid #d1d5db !important;
      border-radius: 6px !important;
      background-color: white !important;
      color: #1f2937 !important;
      margin-bottom: 0.5rem !important;
    }

    /* ENHANCED: Force grid layouts to single column */
    .mobile-checklist-force-visible .grid,
    [data-force-visible="true"] .grid {
      display: flex !important;
      flex-direction: column !important;
      gap: 1rem !important;
      grid-template-columns: none !important;
      width: 100% !important;
    }

    /* ENHANCED: Force proper spacing */
    .mobile-checklist-force-visible .space-y-4 > *,
    .mobile-checklist-force-visible .space-y-6 > *,
    [data-force-visible="true"] .space-y-4 > *,
    [data-force-visible="true"] .space-y-6 > * {
      margin-bottom: 1rem !important;
      width: 100% !important;
      display: block !important;
      visibility: visible !important;
    }

    /* ENHANCED: Force labels to be visible */
    .mobile-checklist-force-visible label,
    [data-force-visible="true"] label {
      display: block !important;
      font-size: 16px !important;
      font-weight: 500 !important;
      color: #374151 !important;
      margin-bottom: 8px !important;
      visibility: visible !important;
    }

    /* ENHANCED: Mobile debug info styling */
    .mobile-debug-info {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      z-index: 1000 !important;
      position: relative !important;
      min-height: 120px !important;
    }

    /* ENHANCED: Equipment type headers to be visible */
    .mobile-checklist-force-visible h2,
    .mobile-checklist-force-visible h3,
    [data-force-visible="true"] h2,
    [data-force-visible="true"] h3 {
      display: block !important;
      visibility: visible !important;
      font-size: 1.25rem !important;
      font-weight: 600 !important;
      color: #1f2937 !important;
      margin-bottom: 1rem !important;
      padding: 0.5rem 0 !important;
      border-bottom: 1px solid #e5e7eb !important;
    }

    /* ENHANCED: State-specific visibility */
    [data-state="waiting"],
    [data-state="active"] {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      min-height: 80px !important;
    }
  }

  /* ENHANCED: Touch-friendly interactions for larger breakpoint */
  @media (max-width: 1024px) and (pointer: coarse) {
    .mobile-checklist-force-visible button,
    .mobile-checklist-force-visible [role="combobox"],
    [data-force-visible="true"] button,
    [data-force-visible="true"] [role="combobox"] {
      min-height: 52px !important;
      min-width: 52px !important;
      touch-action: manipulation !important;
      -webkit-tap-highlight-color: transparent !important;
    }
  }
}
