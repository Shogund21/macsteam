
@layer components {
  /* Mobile equipment fields styling - Enhanced with new breakpoints and better mobile detection */
  @media (max-width: 1200px) {
    /* Equipment container styling - Enhanced for larger mobile devices */
    .equipment-fields-container {
      width: 100% !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      position: relative !important;
      z-index: 1 !important;
      background-color: white !important;
      padding: 1rem !important;
      border-radius: 8px !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
      margin-bottom: 1rem !important;
      min-height: 100px !important;
    }

    /* Mobile equipment content wrapper */
    .mobile-equipment-content {
      width: 100% !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      min-height: 50px !important;
    }

    /* All equipment field containers - Enhanced visibility and mobile-first approach */
    .mobile-ahu-fields,
    .mobile-chiller-fields,
    .mobile-cooling-tower-fields,
    .mobile-elevator-fields,
    .mobile-restroom-fields,
    .mobile-general-fields {
      width: 100% !important;
      padding: 1rem !important;
      background-color: white !important;
      border: 2px solid #e5e7eb !important;
      border-radius: 8px !important;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
      margin-bottom: 1rem !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      position: relative !important;
      z-index: 10 !important;
      min-height: 200px !important;
      overflow: visible !important;
      transform: none !important;
      contain: none !important;
    }

    /* Container wrappers for maintenance components - Mobile-first responsive design */
    .maintenance-readings-container,
    .maintenance-status-container,
    .maintenance-observations-container,
    .ahu-maintenance-container,
    .cooling-tower-container {
      width: 100% !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      background-color: white !important;
      padding: 1rem !important;
      border-radius: 6px !important;
      margin-bottom: 1rem !important;
      border: 1px solid #e5e7eb !important;
      min-height: 50px !important;
      contain: none !important;
    }

    /* Mobile layout classes - Force single column */
    .mobile-readings-layout,
    .mobile-status-layout,
    .mobile-observations-layout {
      display: flex !important;
      flex-direction: column !important;
      gap: 1rem !important;
      width: 100% !important;
      grid-template-columns: none !important;
    }

    /* Mobile form items - Enhanced touch targets */
    .mobile-form-item {
      width: 100% !important;
      margin-bottom: 1rem !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      min-height: 60px !important;
    }

    /* Mobile select triggers - Larger touch targets */
    .mobile-select-trigger {
      min-height: 52px !important;
      font-size: 16px !important;
      width: 100% !important;
      background-color: white !important;
      border: 2px solid #d1d5db !important;
      border-radius: 6px !important;
      padding: 0.75rem !important;
      touch-action: manipulation !important;
    }

    /* Mobile textarea styling - Better for touch */
    .mobile-textarea {
      min-height: 100px !important;
      font-size: 16px !important;
      width: 100% !important;
      padding: 0.75rem !important;
      border: 2px solid #d1d5db !important;
      border-radius: 6px !important;
      touch-action: manipulation !important;
    }

    /* Mobile switch items - Enhanced touch areas */
    .mobile-switch-item {
      padding: 1.25rem !important;
      border: 2px solid #e5e7eb !important;
      background-color: white !important;
      border-radius: 8px !important;
      margin-bottom: 1rem !important;
      min-height: 60px !important;
      touch-action: manipulation !important;
    }

    /* Debug indicators - Enhanced visibility */
    .mobile-debug-indicator {
      display: block !important;
      width: 100% !important;
      text-align: center !important;
      border: 2px solid !important;
      border-radius: 6px !important;
      padding: 8px 12px !important;
      margin-bottom: 12px !important;
      font-weight: bold !important;
      font-size: 12px !important;
      z-index: 100 !important;
      position: relative !important;
    }

    /* Force all grids to single column on mobile */
    .mobile-ahu-fields .grid,
    .mobile-chiller-fields .grid,
    .mobile-cooling-tower-fields .grid,
    .mobile-elevator-fields .grid,
    .mobile-restroom-fields .grid,
    .mobile-general-fields .grid,
    .maintenance-readings-container.mobile-readings-layout,
    .maintenance-status-container.mobile-status-layout {
      display: flex !important;
      flex-direction: column !important;
      gap: 1rem !important;
      grid-template-columns: none !important;
      width: 100% !important;
    }

    /* Equipment section headers - Mobile optimized */
    .mobile-ahu-fields h2,
    .mobile-chiller-fields h2,
    .mobile-cooling-tower-fields h2,
    .mobile-elevator-fields h2,
    .mobile-restroom-fields h2,
    .mobile-general-fields h2 {
      font-size: 1.25rem !important;
      margin-bottom: 1rem !important;
      color: #1f2937 !important;
      display: block !important;
      font-weight: 600 !important;
      background-color: #f9fafb !important;
      padding: 0.75rem !important;
      border-radius: 6px !important;
      border-left: 4px solid #3b82f6 !important;
      width: 100% !important;
    }

    /* Form inputs and selects - Mobile optimized with enhanced touch targets */
    .mobile-ahu-fields input,
    .mobile-ahu-fields select,
    .mobile-ahu-fields textarea,
    .mobile-chiller-fields input,
    .mobile-chiller-fields select,
    .mobile-chiller-fields textarea,
    .mobile-cooling-tower-fields input,
    .mobile-cooling-tower-fields select,
    .mobile-cooling-tower-fields textarea,
    .mobile-elevator-fields input,
    .mobile-elevator-fields select,
    .mobile-elevator-fields textarea,
    .mobile-restroom-fields input,
    .mobile-restroom-fields select,
    .mobile-restroom-fields textarea,
    .mobile-general-fields input,
    .mobile-general-fields select,
    .mobile-general-fields textarea {
      min-height: 52px !important;
      font-size: 16px !important;
      padding: 0.75rem !important;
      width: 100% !important;
      border: 2px solid #d1d5db !important;
      border-radius: 6px !important;
      background-color: white !important;
      touch-action: manipulation !important;
      -webkit-appearance: none !important;
    }

    /* Labels - Mobile typography */
    .mobile-ahu-fields label,
    .mobile-chiller-fields label,
    .mobile-cooling-tower-fields label,
    .mobile-elevator-fields label,
    .mobile-restroom-fields label,
    .mobile-general-fields label {
      font-size: 0.875rem !important;
      font-weight: 600 !important;
      margin-bottom: 0.5rem !important;
      display: block !important;
      color: #374151 !important;
      width: 100% !important;
    }

    /* Force visibility for all form elements and dropdowns */
    .mobile-ahu-fields [role="combobox"],
    .mobile-chiller-fields [role="combobox"],
    .mobile-cooling-tower-fields [role="combobox"],
    .mobile-elevator-fields [role="combobox"],
    .mobile-restroom-fields [role="combobox"],
    .mobile-general-fields [role="combobox"] {
      visibility: visible !important;
      opacity: 1 !important;
      display: flex !important;
      min-height: 52px !important;
      touch-action: manipulation !important;
    }

    /* Ensure all child elements are properly spaced and visible */
    .mobile-ahu-fields > *,
    .mobile-chiller-fields > *,
    .mobile-cooling-tower-fields > *,
    .mobile-elevator-fields > *,
    .mobile-restroom-fields > *,
    .mobile-general-fields > * {
      margin-bottom: 1rem !important;
      display: block !important;
      width: 100% !important;
      visibility: visible !important;
      opacity: 1 !important;
      position: relative !important;
      z-index: 1 !important;
    }

    /* Space-y utilities override with enhanced visibility */
    .mobile-ahu-fields .space-y-6 > *,
    .mobile-chiller-fields .space-y-6 > *,
    .mobile-cooling-tower-fields .space-y-6 > *,
    .mobile-elevator-fields .space-y-6 > *,
    .mobile-restroom-fields .space-y-6 > *,
    .mobile-general-fields .space-y-6 > * {
      margin-bottom: 1.5rem !important;
      visibility: visible !important;
      opacity: 1 !important;
      display: block !important;
      width: 100% !important;
    }

    /* Fix for any hidden elements - Force visibility */
    .mobile-ahu-fields *,
    .mobile-chiller-fields *,
    .mobile-cooling-tower-fields *,
    .mobile-elevator-fields *,
    .mobile-restroom-fields *,
    .mobile-general-fields * {
      max-width: 100% !important;
      box-sizing: border-box !important;
      contain: none !important;
    }

    /* Additional fallback for mobile equipment fields visibility */
    .mobile-equipment-fields {
      width: 100% !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      min-height: 200px !important;
      background-color: white !important;
      padding: 1rem !important;
      border-radius: 8px !important;
      border: 1px solid #e5e7eb !important;
    }

    /* Ensure maintenance form components are visible on mobile */
    .maintenance-readings-container.mobile-readings-layout > *,
    .maintenance-status-container.mobile-status-layout > *,
    .maintenance-observations-container.mobile-observations-layout > * {
      width: 100% !important;
      margin-bottom: 1rem !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    }
  }

  /* Fallback styles for when JavaScript mobile detection might fail */
  @media (max-width: 1200px) and (pointer: coarse) {
    .equipment-fields-container,
    .mobile-equipment-content,
    .mobile-ahu-fields,
    .mobile-chiller-fields,
    .mobile-cooling-tower-fields,
    .mobile-elevator-fields,
    .mobile-restroom-fields,
    .mobile-general-fields {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      width: 100% !important;
    }
  }
}
